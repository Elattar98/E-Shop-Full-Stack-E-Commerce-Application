{var e,r=t.position;return!(45!==(e=t.input.charCodeAt(r))&&46!==e||e!==t.input.charCodeAt(r+1)||e!==t.input.charCodeAt(r+2)||(r+=3,0!==(e=t.input.charCodeAt(r))&&!Te(e)))}function $e(t,e){1===e?t.result+=" ":e>1&&(t.result+=kt.repeat("\n",e-1))}function Xe(t,e){var r,n,i=t.tag,o=t.anchor,s=[],u=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=s),n=t.input.charCodeAt(t.position);0!==n&&(-1!==t.firstTabInLine&&(t.position=t.firstTabInLine,Qe(t,"tab characters must not be used in indentation")),45===n)&&Te(t.input.charCodeAt(t.position+1));)if(u=!0,t.position++,Ze(t,!0,-1)&&t.lineIndent<=e)s.push(null),n=t.input.charCodeAt(t.position);else if(r=t.line,er(t,e,3,!1,!0),s.push(t.result),Ze(t,!0,-1),n=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&0!==n)Qe(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return!!u&&(t.tag=i,t.anchor=o,t.kind="sequence",t.result=s,!0)}function Ke(t){var e,r,n,i,o=!1,s=!1;if(33!==(i=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&Qe(t,"duplication of a tag property"),60===(i=t.input.charCodeAt(++t.position))?(o=!0,i=t.input.charCodeAt(++t.position)):33===i?(s=!0,r="!!",i=t.input.charCodeAt(++t.position)):r="!",e=t.position,o){do{i=t.input.charCodeAt(++t.position)}while(0!==i&&62!==i);t.position<t.length?(n=t.input.slice(e,t.position),i=t.input.charCodeAt(++t.position)):Qe(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!Te(i);)33===i&&(s?Qe(t,"tag suffix cannot contain exclamation marks"):(r=t.input.slice(e-1,t.position+1),Se.test(r)||Qe(t,"named tag handle cannot contain such characters"),s=!0,e=t.position+1)),i=t.input.charCodeAt(++t.position);n=t.input.slice(e,t.position),Ne.test(n)&&Qe(t,"tag suffix cannot contain flow indicator characters")}n&&!De.test(n)&&Qe(t,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch(e){Qe(t,"tag name is malformed: "+n)}return o?t.tag=n:xe.call(t.tagMap,r)?t.tag=t.tagMap[r]+n:"!"===r?t.tag="!"+n:"!!"===r?t.tag="tag:yaml.org,2002:"+n:Qe(t,'undeclared tag handle "'+r+'"'),!0}function tr(t){var e,r;if(38!==(r=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&Qe(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;0!==r&&!Te(r)&&!Ce(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Qe(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function er(t,e,r,n,i){var o,s,u,a,c,f,l,h,p,d=1,y=!1,v=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=s=u=4===r||3===r,n&&Ze(t,!0,-1)&&(y=!0,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)),1===d)for(;Ke(t)||tr(t);)Ze(t,!0,-1)?(y=!0,u=o,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)):u=!1;if(u&&(u=y||i),1!==d&&4!==r||(h=1===r||2===r?e:e+1,p=t.position-t.lineStart,1===d?u&&(Xe(