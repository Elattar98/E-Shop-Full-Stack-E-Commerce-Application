k.matcher.lastIndex=I;const e=k.matcher.exec(n);if(!e)break;const t=w(n.substring(I,e.index),e);I=e.index+t}return w(n.substr(I)),C.closeAllNodes(),C.finalize(),S=C.toHTML(),{relevance:Math.floor(j),value:S,language:e,illegal:!1,emitter:C,top:k}}catch(t){if(t.message&&t.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:t.message,context:n.slice(I-100,I+100),mode:t.mode},sofar:S,relevance:0,value:X(n),emitter:C};if(i)return{illegal:!1,relevance:0,value:X(n),emitter:C,language:e,top:k,errorRaised:t};throw t}}function m(e,n){n=n||p.languages||Object.keys(t);const r=function(e){const t={relevance:0,emitter:new p.__emitter(p),value:X(e),illegal:!1,top:l};return t.emitter.addText(e),t}(e),o=n.filter(_).filter(k).map((t=>d(t,e,!1)));o.unshift(r);const a=o.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(_(e.language).supersetOf===t.language)return 1;if(_(t.language).supersetOf===e.language)return-1}return 0})),[i,s]=a,u=i;return u.second_best=s,u}const v={"before:highlightElement":({el:e})=>{p.useBR&&(e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"))},"after:highlightElement":({result:e})=>{p.useBR&&(e.value=e.value.replace(/\n/g,"<br>"))}},g=/^(<[^>]+>|\t)+/gm,y={"after:highlightElement":({result:e})=>{p.tabReplace&&(e.value=e.value.replace(g,(e=>e.replace(/\t/g,p.tabReplace))))}};function b(e){let t=null;const n=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=p.languageDetectRe.exec(t);if(n){const t=_(n[1]);return t||(Y(u.replace("{}",n[1])),Y("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>f(e)||_(e)))}(e);if(f(n))return;A("before:highlightElement",{el:e,language:n}),t=e;const o=t.textContent,a=n?h(o,{language:n,ignoreIllegals:!0}):m(o);A("after:highlightElement",{el:e,result:a,text:o}),e.innerHTML=a.value,function(e,t,n){const o=t?r[t]:n;e.classList.add("hljs"),o&&e.classList.add(o)}(e,n,a.language),e.result={language:a.language,re:a.relevance,relavance:a.relevance}