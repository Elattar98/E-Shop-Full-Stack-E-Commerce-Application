uZnVuY3Rpb24gcGx1cmFsKHZhbDogbnVtYmVyKTogbnVtYmVyIHtcbmNvbnN0IG4gPSB2YWw7XG5cbmlmIChuID09PSAwKVxuICAgIHJldHVybiAwO1xuaWYgKG4gPT09IDEpXG4gICAgcmV0dXJuIDE7XG5pZiAobiA9PT0gMilcbiAgICByZXR1cm4gMjtcbmlmIChuICUgMTAwID09PSBNYXRoLmZsb29yKG4gJSAxMDApICYmIChuICUgMTAwID49IDMgJiYgbiAlIDEwMCA8PSAxMCkpXG4gICAgcmV0dXJuIDM7XG5pZiAobiAlIDEwMCA9PT0gTWF0aC5mbG9vcihuICUgMTAwKSAmJiAobiAlIDEwMCA+PSAxMSAmJiBu