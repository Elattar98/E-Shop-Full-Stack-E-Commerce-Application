undefined"!=typeof self?self:{}).location||{},o={},a=typeof(e=e||r);if("blob:"===e.protocol)o=new g(unescape(e.pathname),{});else if("string"===a)for(t in o=new g(e,{}),h)delete o[t];else if("object"===a){for(t in e)t in h||(o[t]=e[t]);void 0===o.slashes&&(o.slashes=s.test(e.href))}return o}function m(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function v(e,t){e=(e=p(e)).replace(i,""),t=t||{};var n,r=l.exec(e),o=r[1]?r[1].toLowerCase():"",a=!!r[2],s=!!r[3],u=0;return a?s?(n=r[2]+r[3]+r[4],u=r[2].length+r[3].length):(n=r[2]+r[4],u=r[2].length):s?(n=r[3]+r[4],u=r[3].length):n=r[4],"file:"===o?u>=2&&(n=n.slice(2)):m(o)?n=r[4]:o?a&&(n=n.slice(2)):u>=2&&m(t.protocol)&&(n=r[4]),{protocol:o,slashes:a||m(o),slashesCount:u,rest:n}}function g(e,t,n){if(e=(e=p(e)).replace(i,""),!(this instanceof g))return new g(e,t,n);var a,s,u,l,h,y,b=f.slice(),w=typeof t,E=this,x=0;for("object"!==w&&"string"!==w&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),a=!(s=v(e||"",t=d(t))).protocol&&!s.slashes,E.slashes=s.slashes||a&&t.slashes,E.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||c.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!m(E.pr