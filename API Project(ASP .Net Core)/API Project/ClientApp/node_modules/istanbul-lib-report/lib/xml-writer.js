l!==a?(u+="//",Z(e)&&(u+=n+(r?":"+r:"")+"@"),u+=F(a),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?i[0]:i.length?"/"+i.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},Ae=function(){var e=w(this),t=e.scheme,n=e.port;if("blob"==t)try{return new Oe(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&G(e)?t+"://"+F(e.host)+(null!==n?":"+n:""):"null"},ke=function(){return w(this).scheme+":"},Ie=function(){return w(this).username},Pe=function(){return w(this).password},Te=function(){var e=w(this),t=e.host,n=e.port;return null===t?"":null===n?F(t):F(t)+":"+n},Re=function(){var e=w(this).host;return null===e?"":F(e)},Ne=function(){var e=w(this).port;return null===e?"":String(e)},Me=function(){var e=w(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},qe=function(){var e=w(this).query;return e?"?"+e:""},De=function(){return w(this).searchParams},Be=function(){var e=w(this).fragment;return e?"#"+e:""},Le=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&c(Ce,{href:Le(_e,(function(e){var t=w(this),n=String(e),r=je(t,n);if(r)throw TypeError(r);x(t.searchParams).updateSearchParams(t.query)})),origin:Le(Ae),protocol:Le(ke,(function(e){var t=w(this);je(t,String(e)+":",re)})),username:Le(Ie,(function(e){var t=w(this),n=d(String(e));if(!X(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Y(n[r],$)}})),password:Le(Pe,(function(e){var t=w(this),n=d(String(e));if(!X(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Y(n[r],$)}})),host:Le(Te,(function(e){var t=w(this);t.cannotBeABaseURL||je(t,String(e),de)})),hostname:Le(Re,(function(e){var t=w(this);t.cannotBeABaseURL||je(t,String(e),he)})),port:Le(Ne,(function(e){var t=w(this);X(t)||(""==(e=String(e))?t.port=null:je(t,e,me))})),pathname:Le(Me,(function(e){var t=w(this);t.cannotBeABaseURL||(t.path=[],je(t,e+"",be))})),search:Le(qe,(function(e){var t=w(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",je(t,e,Se)),x(t.searchParams).updateSearchParams(t.query)})),searchParams:Le(De),hash:Le(Be,(function(e){var t=w(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",je(t,e,we)):t.fragment=null}))}),u(Ce,"toJSON",(function(){return _e.call(this)}),{enumerable:!0}),u(Ce,"toString",(function(){return _e.call(this)}),{enumerable:!0}),b){var Ue=b.createObjectURL,Ve=b.revokeObjectURL;Ue&&u(Oe,"createObjectURL",