(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)V(t,e%256),e=I(e/256);return R(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,a=0;a<8;a++)0!==e[a]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=a),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=M(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ae={},ie=d({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),se=d({},ie,{"#":1,"?":1,"{":1,"}":1}),ue=d({},se,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),le=function(e,t){var n=g(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},ce={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pe=function(e,t){var n;return 2==e.length&&P(J,N(e,0))&&(":"==(n=N(e,1))||!t&&"|"==n)},fe=function(e){var t;return e.length>1&&pe(U(e,0,2))&&(2==e.length||"/"===(t=N(e,2))||"\\"===t||"?"===t||"#"===t)},he=function(e){return"."===e||"%2e"===q(e)},de={},me={},ve={},ge={},ye={},be={},we={},Ee={},xe={},_e={},Se={},ke={},Ae={},Ce={},Oe={},je={},Ie={},Te={},Ne={},Pe={},Re={},Me=function(e,t,n){var r,o,a,i=b(e);if(t){if(o=this.parse(i))throw O(o);this.searchParams=null}else{if(void 0!==n&&(r=new Me(n,!0)),o=this.parse(i,null,r))throw O(o);(a=A(new k)).bindURL(this),this.searchParams=a}};Me.prototype={type:"URL",parse:function(e,t,n){var o,a,i,s,u,l=this,c=t||de,p=0,f="",d=!1,g=!1,y=!1;for(e=b(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=B(e,ne,"")),e=B(e,re,""),o=m(e);p<=o.length;){switch(a=o[p],c){case de:if(!a||!P(J,a)){if(t)return W;c=ve;continue}f+=q(a),c=me;break;case me:if(a&&(P(K,a)||"+"==a||"-"==a||"."==a))f+=q(a);else{if(":"!=a){if(t)return W;f="",c=ve,p=0;continue}if(t&&(l.isSpecial()!=h(ce,f)||"file"==f&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=f,t)return void(l.isSpecial()&&ce[l.scheme]==l.port&&(l.port=null));f="","file"==l.scheme?c=Ce:l.isSpecial()&&n&&n.scheme==l.scheme?c=ge:l.isSpecial()?c=Ee:"/"==o[p+1]?(c=ye,p++):(l.cannotBeABaseURL=!0,L(l.path,""),c=Ne)}break;case ve:if(!n||n.cannotBeABaseURL&&"#"!=a)return W;if(n.cannotBeABaseURL&&"#"==a){l.scheme=n.scheme,l.path=v(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,c=Re;break}c="file"==n.scheme?Ce:be;continue;case ge:if("/"!=a||"/"!=o[p+1]){c=be;continue}c=xe,p++;break;case ye:if("/"==a){c=_e;break}c=Te;continue;case be:if(l.scheme=n.scheme,a==r)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=v(n.path),l.query=n.query;else if("/"==a||"\\"==a&&l.isSpecial())c=we;else if("?"==a)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=v(n.path),l.query="",c=Pe;else{if("#"!=a){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=v(n.path),l.path.length--,c=Te;continue}l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=v(n.path),l.query=n.query,l.fragment="",c=Re}break;case we:if(!l.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,c=Te;continue}c=_e}else c=xe;break;case Ee:if(c=xe,"/"!=a||"/"!=N(f,p+1))continue;p++;break;case xe:if("/"!=a&&"\\"!=a){c=_e;continue}break;case _e:if("@"==a){d&&(f="%40"+f),d=!0,i=m(f);for(var w=0;w<i.length;w++){var E=i[w];if(":"!=E||y){var x=le(E,ue);y?l.password+=x:l.username+=x}else y=!0}f=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(d&&""==f)return"Invalid authority";p-=m(f).length+1,f="",c=Se}else f+=a;break;case Se:case ke:if(t&&"file"==l.scheme){c=je;continue}if(":"!=a||g){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(l.isSpecial()&&""==f)return H;if(t&&""==f&&(l.includesCredentials()||null!==l.port))return;if(s=l.parseHost(f))return s;if(f="",c=Ie,t)return;continue}"["==a?g=!0:"]"==a&&(g=!1),f+=a}else{if(""==f)return H;if(s=l.parseHost(f))return s;if(f="",c=Ae,t==ke)return}break;case Ae:if(!P(G,a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()||t){if(""!=f){var _=j(f,10);if(_>65535)return $;l.port=l.isSpecial()&&_===ce[l.scheme]?null:_,f=""}if(t)return;c=Ie;continue}return $}f+=a;break;case Ce:if(l.scheme="file","/"==a||"\\"==a)c=Oe;else{if(!n||"file"!=n.scheme){c=Te;continue}if(a==r)l.host=n.host,l.path=v(n.path),l.query=n.query;else if("?"==a)l.host=n.host,l.path=v(n.path),l.query="",c=Pe;else{if("#"!=a){fe(R(v(o,p),""))||(l.host=n.host,l.path=v(n.path),l.shortenPath()),c=Te;continue}l.host=n.host,l.path=v(n.path),l.query=n.query,l.fragment="",c=Re}}break;case Oe:if("/"==a||"\\"==a){c=je;break}n&&"file"==n.scheme&&!fe(R(v(o,p),""))&&(pe(n.path[0],!0)?L(l.path,n.path[0]):l.host=n.host),c=Te;continue;case je:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&pe(f))c=Te;else if(""==f){if(l.host="",t)return;c=Ie}else{if(s=l.parseHost(f))return s;if("localhost"==l.host&&(l.host=""),t)return;f="",c=Ie}continue}f+=a;break;case Ie:if(l.isSpecial()){if(c=Te,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a)if(t||"#"!=a){if(a!=r&&(c=Te,"/"!=a))continue}else l.fragment="",c=Re;else l.query="",c=Pe;break;case Te:if(a==r||"/"==a||"\\"==a&&l.isSpecial()||!t&&("?"==a||"#"==a)){if(".."===(u=q(u=f))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(l.shortenPath(),"/"==a||"\\"==a&&l.isSpecial()||L(l.path,"")):he(f)?"/"==a||"\\"==a&&l.isSpecial()||L(l.path,""):("file"==l.scheme&&!l.path.length&&pe(f)&&(l.host&&(l.host=""),f=N(f,0)+":"),L(l.path,f)),f="","file"==l.scheme&&(a==r||"?"==a||"#"==a))for(;l.path.length>1&&""===l.path[0];)F(l.path);"?"==a?(l.query="",c=Pe):"#"==a&&(l.fragment="",c=Re)}else f+=le(a,se);break;case Ne:"?"==a?(l.query="",c=Pe):"#"==a?(l.fragment="",c=Re):a!=r&&(l.path[0]+=le(a,ae));break;case Pe:t||"#"!=a?a!=r&&("'"==a&&l.isSpecial()?l.query+="%27":l.query+="#"==a?"%23":le(a,ae)):(l.fragment="",c=Re);break;case Re:a!=r&&(l.fragment+=le(a,ie))}p++}},parseHost:function(e){var t,n,r;if("["==N(e,0)){if("]"!=N(e,e.length-1))return H;if(t=function(e){var t,n,r,o,a,i,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,p=0,f=function(){return N(e,p)};if(":"==f()){if(":"!=N(e,1))return;p+=2,c=++l}for(;f();){if(8==l)return;if(":"!=f()){for(t=n=0;n<4&&P(X,f());)t=16*t+j(f(),16),p++,n++;if("."==f()){if(0==n)return;if(p-=n,l>6)return;for(r=0;f();){if(o=null,r>0){if(!("."==f()&&r<4))return;p++}if(!P(G,f()))return;for(;P(G,f());){if(a=j(f(),10),null===o)o=a;else{if(0==o)return;o=10*o+a}if(o>255)return;p++}u[l]=256*u[l]+o,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==f()){if(p++,!f())return}else if(f())return;u[l++]=t}else{if(null!==c)return;p++,c=++l}}if(null!==c)for(i=l-c,l=7;0!=l&&i>0;)s=u[l],u[l--]=u[c+i-1],u[c+--i]=s;else if(8!=l)return;return u}(U(e,1,-1)),!t)return H;this.host=t}else if(this.isSpecial()){if(e=y(e),P(ee,e))return H;if(t=function(e){var t,n,r,o,a,i,s,u=z(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=u[r]))return e;if(a=10,o.length>1&&"0"==N(o,0)&&(a=P(Z,o)?16:8,o=U(o,8==a?1:2)),""===o)i=0;else{if(!P(10==a?Q:8==a?Y:X,o))return e;i=j(o,a)}L(n,i)}for(r=0;r<t;r++)if(i=n[r],r==t-1){if(i>=T(256,5-t))return null}else if(i>255)return null;for(s=D(n),r=0;r<n.length;r++)s+=n[r]*T(256,3-r);return s}(e),null===t)return H;this.host=t}else{if(P(te,e))return H;for(t="",n=m(e),r=0;r<n.length;r++)t+=le(n[r],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return h(ce,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&pe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,o=e.host,a=e.port,i=e.path,s=e.query,u=e.fragment,l=t+":";return null!==o?(l+="//",e.includesCredentials()&&(l+=n+(r?":"+r:"")+"@"),l+=oe(o),null!==a&&(l+=":"+a)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?i[0]:i.length?"/"+R(i,"/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},setHref:function(e){var t=this.parse(e);if(t)throw O(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new De(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",de)},getUsername:function(){return this.username},setUsername:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=le(t[n],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=le(t[n],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Se)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,ke)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Ae))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+R(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ie))},getSearch:function(){var e=this.query;return e?"?"+e:""},se                                                                                                                                                                                                                                                                                                                                                                                                                                       